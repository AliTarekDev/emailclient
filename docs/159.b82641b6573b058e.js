"use strict";(self.webpackChunkemailclient=self.webpackChunkemailclient||[]).push([[159],{3159:(J,u,m)=>{m.r(u),m.d(u,{InboxModule:()=>O});var c=m(6895),r=m(2001),_=m(3900),e=m(8256),h=m(529);let p=(()=>{class n{constructor(t){this.http=t,this.rootUrl="https://api.angular-email.com"}getEmails(){return this.http.get(`${this.rootUrl}/emails`)}getEmail(t){return this.http.get(`${this.rootUrl}/emails/${t}`)}sendEmail(t){return this.http.post(`${this.rootUrl}/emails`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],C=["[modalTitle]","*","[modalFooter]"];let d=(()=>{class n{constructor(t){this.el=t,this.dismiss=new e.vpe}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){this.el.nativeElement.remove()}onDismissClick(){this.dismiss.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:C,decls:12,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"close","icon",3,"click"],[1,"header"],[1,"content"],[1,"actions","actions-default"],[1,"ui","button","primary",3,"click"],[1,"actions"]],template:function(t,i){1&t&&(e.F$t(v),e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onDismissClick()}),e.TgZ(1,"div",1),e.NdJ("click",function(s){return s.stopPropagation()}),e.TgZ(2,"i",2),e.NdJ("click",function(){return i.onDismissClick()}),e.qZA(),e.TgZ(3,"div",3),e.Hsn(4),e.qZA(),e.TgZ(5,"div",4),e.Hsn(6,1),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.onDismissClick()}),e._uU(9,"OK"),e.qZA()(),e.TgZ(10,"div",7),e.Hsn(11,2),e.qZA()()())},styles:[".actions[_ngcontent-%COMP%]:empty{display:none}.actions-default[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]:empty + .actions-default[_ngcontent-%COMP%]{display:block}"]}),n})();var a=m(433),g=m(235);let f=(()=>{class n{constructor(){this.email={id:"",to:"",subject:"",html:"",text:"",from:""},this.emailService=new e.vpe}ngOnInit(){const{subject:t,from:i,to:l,text:s}=this.email;this.emailForm=new a.cw({to:new a.NI(l,[a.kI.required,a.kI.email]),from:new a.NI({value:i,disabled:!0}),subject:new a.NI(t,[a.kI.required]),text:new a.NI(s,[a.kI.required])})}onSubmit(){this.emailForm.invalid||this.emailService.emit(this.emailForm.value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-form"]],inputs:{email:"email"},outputs:{emailService:"emailService"},decls:7,vars:5,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["label","To","inputType","email",3,"controlName"],["label","From","inputType","email",3,"controlName"],["label","Subject","inputType","text",3,"controlName"],["controlType","textarea","label","subject",3,"controlName"],[1,"ui","button","primary"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e._UZ(1,"app-input",1)(2,"app-input",2)(3,"app-input",3)(4,"app-input",4),e.TgZ(5,"button",5),e._uU(6,"Send"),e.qZA()()),2&t&&(e.Q6J("formGroup",i.emailForm),e.xp6(1),e.Q6J("controlName",i.emailForm.controls.to),e.xp6(1),e.Q6J("controlName",i.emailForm.controls.from),e.xp6(1),e.Q6J("controlName",i.emailForm.controls.subject),e.xp6(1),e.Q6J("controlName",i.emailForm.controls.text))},dependencies:[g.a,a._Y,a.JL,a.sg]}),n})();function T(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",2),e.NdJ("dismiss",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.showModel=!1)}),e.TgZ(1,"div",3),e._uU(2,"Reply"),e.qZA(),e.TgZ(3,"app-email-form",4),e.NdJ("emailService",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit(l))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("email",t.email)}}let y=(()=>{class n{constructor(t){this._emailService=t,this.showModel=!1,this.email={id:"",to:"",subject:"",html:"",text:"",from:""}}ngOnChanges(){this.email={...this.email,from:this.email.to,to:this.email.from,subject:`RE: ${this.email.subject}`}}onSubmit(t){this._emailService.sendEmail(t).subscribe(()=>{this.showModel=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-reply"]],inputs:{email:"email"},features:[e.TTD],decls:3,vars:1,consts:[[1,"ui","button","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailService"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.showModel=!0}),e._uU(1," Reply\n"),e.qZA(),e.YNc(2,T,4,1,"app-modal",1)),2&t&&(e.xp6(2),e.Q6J("ngIf",i.showModel))},dependencies:[c.O5,d,f]}),n})();function Z(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div")(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5," From: "),e.TgZ(6,"i"),e._uU(7),e.qZA()(),e.TgZ(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"div"),e._UZ(11,"app-email-reply",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.email.subject),e.xp6(4),e.Oqu(t.email.from),e.xp6(2),e.hij(" To: ",t.email.to," "),e.xp6(2),e.Q6J("email",t.email)}}let x=(()=>{class n{constructor(t,i){this._emailService=t,this._route=i,this.email={id:"",subject:"",text:"",to:"",from:"",html:""}}ngOnInit(){this._route.params.pipe((0,_.w)(({id:t})=>this._emailService.getEmail(t))).subscribe(t=>{this.email=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p),e.Y36(r.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-show"]],decls:3,vars:2,consts:[["class","header",4,"ngIf"],[1,"ui","divider"],[3,"innerHTML"],[1,"header"],[3,"email"]],template:function(t,i){1&t&&(e.YNc(0,Z,12,4,"div",0),e._UZ(1,"div",1)(2,"div",2)),2&t&&(e.Q6J("ngIf",i.email),e.xp6(2),e.Q6J("innerHTML",i.email.html,e.oJD))},dependencies:[c.O5,y],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]}),n})();var b=m(384);function w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",2),e.NdJ("dismiss",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.showModel=!1)}),e.TgZ(1,"div",3),e._uU(2,"Compose"),e.qZA(),e.TgZ(3,"app-email-form",4),e.NdJ("emailService",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit(l))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("email",t.email)}}let E=(()=>{class n{constructor(t,i){this._authService=t,this._emailService=i,this.showModel=!1,this.email={id:"",to:"",subject:"",html:"",text:"",from:`${this._authService.username}@angular-email.com`}}ngOnInit(){}onSubmit(t){this._emailService.sendEmail(t).subscribe(()=>{this.showModel=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.e),e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-create"]],decls:3,vars:1,consts:[[1,"ui","button","inverted","primary","fluid",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailService"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.showModel=!0}),e._uU(1,"Compose"),e.qZA(),e.YNc(2,w,4,1,"app-modal",1)),2&t&&(e.xp6(2),e.Q6J("ngIf",i.showModel))},dependencies:[c.O5,d,f],styles:[".ui.button.primary[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),n})();function S(n,o){if(1&n&&(e.TgZ(0,"div",2)(1,"a",3)(2,"div",4)(3,"div",5),e._uU(4),e.qZA(),e.TgZ(5,"p",6),e._uU(6),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",t.id),e.xp6(3),e.hij(" ",t.subject," "),e.xp6(2),e.hij(" ",t.from," ")}}let M=(()=>{class n{constructor(t){this._emailService=t,this.emails=[]}ngOnInit(){this._emailService.getEmails().subscribe(t=>{this.emails=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-index"]],decls:2,vars:1,consts:[[1,"ui","celled","list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header","trim"],[1,"trim"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,S,7,3,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.emails))},dependencies:[c.sg,r.yS,r.Od],styles:['.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}.content[_ngcontent-%COMP%]{width:90%}.trim[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}']}),n})();const F=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"ui","grid","stackable"],[1,"five","wide","column"],[1,"eleven","wide","column"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-email-create")(3,"app-email-index"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"router-outlet"),e.qZA()())},dependencies:[r.lC,E,M]}),n})(),children:[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-placeholder"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"envelope","outline","icon"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e._uU(3," Select an email to get started "),e.qZA()())}}),n})()},{path:":id",component:x},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"not-found works!"),e.qZA())}}),n})()}]}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.Bz.forChild(F),r.Bz]}),n})();var N=m(4466);let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,I,N.m,a.UX]}),n})()}}]);